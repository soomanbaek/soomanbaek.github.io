---
title: 하노이탑 AI
description: 카메라로 하노이탑의 고리 위치를 인식, 유전 알고리즘으로 고리를 옮기는 최소 횟수를 계산하여 화면에 보여주는 프로그램입니다.
image: tower_of_hanoi.gif
date: 2023-04-27
---

- 개발 기간: 3개월 (20.09 ~ 20.11)
- 개발 인원: 1명
- [깃허브](https://github.com/soomanbaek/tower_of_hanoi)
- [데모 영상](https://www.youtube.com/watch?v=Jg3dNRvD308)
- **System Architecture**

  ![1](https://user-images.githubusercontent.com/72093196/234813883-702e7e3a-0e90-4911-9e13-237d9ee20db9.png)

- **기술 스택**

  <img width="223" alt="2" src="https://user-images.githubusercontent.com/72093196/234813880-9c769cce-75b0-41d6-8991-c60bee0568a2.png">

---
## 🛠 Feature and Work

### OpenCV의 색검출을 활용하여 카메라로 고리 위치 인식
- RGB → HSV 색공간을 사용하여 검출하였다.
    - 색을 표현하는 값으로 H(색상)값의 범위만 지정하면 돼서 RGB보다 실제 색상을 구별하기에 더 좋습니다.

      ![3](https://user-images.githubusercontent.com/72093196/234813877-afbbd493-a1e1-4b1f-b63a-b371babbb394.png)

- 색검출로 고리를 구분하여 어떤 고리가 어느 막대에 있는지 정보를 알아냅니다.

### 유전알고리즘을 이용하여 솔루션 도출

색검출로 고리가 어느 막대에 있는지 알아낸 후 해결 방법을 유전알고리즘을 활용하여 도출합니다. 하나의 해결 방법을 염색체라고 하겠습니다.

초기 세대는 기본알고리즘으로 생성되고, 이후 세대는 바로 앞 세대의 염색체 정보를 바탕으로 진화하여 생성됩니다.

이 때, 세대마다 염색체 100개를 가지고 있고 염색체 하나가 가지는 정보는 다음과 같습니다.

- 옮긴 수
- 옮긴 수에 따른 상태 (교차를 하기 위해)
- 옮긴 방법 (결과를 보여주기 위해)

다음은 유전알고리즘을 활용하여 해법을 도출하는 과정입니다.

1. 100개의 염색체를 기본알고리즘을 통해 생성합니다.

   ![4](https://user-images.githubusercontent.com/72093196/234813868-1e8c6c71-8781-4edf-b3af-e00fb61e5d1d.png)

2. 진화하는 방법은 다음과 같습니다.
    - 상위 10개는 그대로 다음 세대로 옮겨집니다.
    - 상위 70개의 유전자에서 교차를 통해 다음세대에 새로운 70개의 유전자를 생성합니다.
    - 다음 세대에서 새로운 염색체 20개를 만들어냅니다. (지역 최적점으로 수렴하는 것 막기 위해)
3. 새로 생성된 염색체 중 상위 10개의 옮긴 횟수가 같으면 수렴했다고 판단하고 해법을 UI로 보여줍니다.

> **자세한 내용은 [여기서](https://velog.io/@soomanbaek/%EC%9C%A0%EC%A0%84%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%ED%95%98%EB%85%B8%EC%9D%B4%ED%83%91-AI) 확인할 수 있습니다.**

---

## 🪴 아쉬운점 및 배운점

### 아쉬운점

1. 색인식을 활용하여 고리를 분류하는 데, 색상이 비슷한 고리가 붙어있을 경우 하나의 고리로 인식되는 한계점이 있었습니다.
2. 색인식을 활용하였기 때문에 조명에 영향을 많이 받았습니다. 그래서 프로젝트를 시연할 때 조명 환경에 맞춰 H, S, V 값을 조절해야 했습니다.
3. 고리가 7개를 넘어갈 경우 프로그램이 답을 도출하지 못했습니다.
4. 최적의 해가 아닐 수 도 있습니다.

### 배운점

알고리즘의 중요성을 뼈저리게 느끼게 해준 프로젝트 였습니다. 고리 갯수가 7개를 넘어갈 경우 답을 도출하지 못하였을 때, BFS 알고리즘을 활용하면 빠르게 답을 도출할 수 있다는 것을 알게 되었습니다. 그리고 실제로 실험해보니 답을 도출하는데 1초도 걸리지 않았습니다. (하지만 BFS 알고리즘을 사용할 때 단점도 존재하였는데 bit로 고리를 표현하는데 최대 10개까지 표현할 수 없다는 한계가 존재하긴 했습니다.)

이 프로젝트 이후 알고리즘 스터디를 8개월간 참여하고 삼성 알고리즘 역량강화 특강을 수료하는 등 알고리즘 역량을 기르기 위해 노력하였습니다.